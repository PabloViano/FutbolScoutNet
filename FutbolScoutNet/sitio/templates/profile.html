{% extends 'layout.html'%}
{% load static %}
{% block contenido %}
<div style="margin-top: 10px;"></div>
<div class="card mb-3" style="display: flex; flex-direction: column; align-items: center; padding: 10px; background-image: url('https://django-futbolscoutnet-files.s3.amazonaws.com/media/default_background.jpg'); background-size: cover; background-position: center; border-radius: 8px; height: 30%; position: relative; overflow: hidden;">
    <span class="badge rounded-pill bg-primary" style="font-size: 20px; padding: 6px 14px;">{{user.username}}</span>
    <div style="margin-top: -10px;"></div>
    <div class="d-flex justify-content-center align-items-center mt-4">
        <img class="rounded-circle" style="width: 200px; height: 200px; object-fit: cover; border: 2px solid white;" src="{{ user.profile.image.url }}">
    </div>
    <div style="margin-top: 10px;"></div>
    <div style="margin-top: auto;">
        {% if user == request.user %}
            <button type="button" class="btn btn-primary" onclick="window.location.href='/profile-edit/{{user}}'">Editar Perfil</button>
        {% else %}
            <button type="button" class="btn btn-primary" onclick="window.location.href='/mensajes/{{user}}'">Enviar Mensaje</button>
            {% if user not in request.user.profile.following %}
              <button type="button" class="btn btn-primary" onclick="window.location.href='/follow/{{user}}'">Follow</button>
            {% else %}
              <button type="button" class="btn btn-primary" onclick="window.location.href='/unfollow/{{user}}'">Unfollow</button>
            {% endif%}
        {% endif%}
    </div>
</div>

<div class="card text-white bg-primary mb-3" style="max-width: 200rem; border: 2px solid white; margin: 10px;">
  <div class="card-header">Datos</div>
  <div class="card-body">
    <h4 class="followers">Seguidores: {{followers}}</h4>
    <h4 class="card-title">Posicion: {{profile.posicion}}</h4>
    <h4 class="card-title">Nivel: {{profile.nivel}}</h4>
    <h4 class="card-title">Edad: {{profile.edad}}</h4>
  </div>
</div>
<div class="card text-white bg-primary mb-3" style="max-width: 200rem; border: 2px solid white; margin: 10px;">
  <div class="card-header">Posts</div>
  <div class="card-body">
      {% for post in posts %}
        <div class="custom-user-post">
          <div class="custom-post-content">
              <h3 class="custom-post-title">{{ post.titulo }}</h3>
              <p class="custom-post-date">{{ post.fecha }}</p>
              <p class="custom-post-text">{{ post.texto }}</p>
              {% if post.multimedia %}
                <img class="custom-post-multimedia" src="{{MEDIA_URL}}{{post.multimedia.url}}" width="300" height="300">
              {% endif %}
          </div>
        </div>
      {% endfor %}
  </div>
</div>
{% endblock %}
